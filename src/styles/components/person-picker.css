@layer components {
   .person-picker {
      position: relative;
      max-width: 320px;
      min-width: 200px;
      width: fit-content;
      display: flex;
      flex-direction: row;
      column-gap: 4px;
   }

   .person-picker.is-disabled {
      opacity: 0.6;
      pointer-events: none;
   }

   .person-picker .controller {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 8px;
      align-items: center;
   }

   .person-picker .pick-from-ui {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: 36px;
      width: 36px;
      border: 1px solid var(--border);
      background: var(--panel);
      border-radius: var(--radius-sm);
      cursor: pointer;
   }
   .person-picker .pick-from-ui.active {
      outline: 2px solid var(--outline);
   }
   .person-picker .pick-from-ui .crosshair {
      width: 16px;
      height: 16px;
      position: relative;
   }
   .person-picker .pick-from-ui .crosshair::before,
   .person-picker .pick-from-ui .crosshair::after {
      content: '';
      position: absolute;
      inset: 0;
      margin: auto;
      background: var(--text-dim);
   }
   .person-picker .pick-from-ui .crosshair::before {
      width: 100%;
      height: 2px;
   }
   .person-picker .pick-from-ui .crosshair::after {
      width: 2px;
      height: 100%;
   }

   /* hint cursor when pending capture */
   .person-picker.is-pending,
   .person-picker.is-pending * {
      cursor: crosshair !important;
   }
   /* optional global cue while capturing */
   .person-picker-pending-capture {
      cursor: crosshair !important;
   }

   .person-picker .picked-badge {
      margin-top: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 6px 8px;
   }
   .person-picker .picked-badge .picked-name {
      font-weight: 600;
      color: var(--text);
   }
   .person-picker .picked-badge .clear-btn {
      margin-left: auto;
      background: transparent;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      font-size: 18px;
      line-height: 1;
   }

   .person-picker .dropdown {
      position: absolute;
      left: 0;
      width: 100%;
      min-width: fit-content;
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      overflow-y: auto;
      z-index: 1000;
      box-shadow: 0 4px 8px var(--shadow);
   }
   .person-picker .dropdown.drop-down {
      top: 100%;
      margin-top: 4px;
   }
   .person-picker .dropdown.drop-up {
      bottom: 100%;
      margin-bottom: 4px;
      box-shadow: 0 -4px 8px var(--shadow);
   }

   .person-picker .dropdown .row {
      display: grid;
      grid-template-columns: 1fr;
      text-align: left;
      width: 100%;
      padding: 8px 10px;
      background: transparent;
      border: 0;
      cursor: pointer;
   }
   .person-picker .dropdown .row .title {
      color: var(--text);
      font-size: 14px;
   }
   .person-picker .dropdown .row .note {
      color: var(--text-muted);
      font-size: 12px;
   }

   .person-picker .dropdown .row:hover,
   .person-picker .dropdown .row.active {
      background: var(--muted);
   }
   .person-picker .dropdown .row.picked {
      outline: 1px dashed var(--primary);
   }

   .pending-span {
      animation: rotate360 500ms linear;
      animation-iteration-count: infinite;
   }
}
